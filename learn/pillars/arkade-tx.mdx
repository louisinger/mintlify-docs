---
title: "Arkade Transactions"
description: "Arkade transaction format and preconfirmation mechanism"
icon: "share-nodes"
---

Arkade transactions are Bitcoin transactions that execute offchain. They follow Bitcoin's UTXO model—consuming inputs, producing outputs—but settle instantly through operator cosignature instead of waiting for block confirmation.

## Transaction Structure

```javascript
Transaction {
  inputs: [vtxo1, vtxo2, ...],
  witnesses: [userSig + operatorSig, ...],
  outputs: [newVTXO1, newVTXO2, ...]
}
```

| Component | Description |
|-----------|-------------|
| **Inputs** | VTXOs being spent |
| **Witnesses** | User signature + operator cosignature per input |
| **Outputs** | New VTXOs created (recipient + change) |

This mirrors Bitcoin exactly, but executes in the [virtual mempool](/learn/pillars/virtual-mempool) rather than onchain.

## Preconfirmation

When the operator cosigns your transaction, it becomes **preconfirmed**:

| Property | Status |
|----------|--------|
| Valid Bitcoin transaction | ✅ Yes |
| Spendable outputs | ✅ Immediately |
| On Bitcoin blockchain | ❌ Not yet |
| Can chain more transactions | ✅ Yes |

Preconfirmation is instant—milliseconds, not minutes.

## Example: Alice Pays Bob

```javascript
// Alice has a 5000 sat VTXO, pays Bob 1000 sats
Transaction {
  inputs: [{
    vtxo: aliceVTXO(5000 sats),
    witness: [aliceSignature, operatorSignature]
  }],
  outputs: [
    {
      value: 1000,
      script: Taproot(UNSPENDABLE, [
        checkSig(bobPK) && checkSig(operatorPK),      // Collaborative
        checkSig(bobPK) && relativeTimelock(1008)     // Exit path
      ])
    },
    {
      value: 3950,  // Change minus ~50 sat fee
      script: Taproot(UNSPENDABLE, [
        checkSig(alicePK) && checkSig(operatorPK),
        checkSig(alicePK) && relativeTimelock(1008)
      ])
    }
  ]
}
```

Alice's 5000 sat input becomes:
- 1000 sats to Bob (new VTXO)
- 3950 sats back to Alice (change VTXO)
- ~50 sats to operator (fee)

Both output VTXOs are immediately spendable.

## Transaction Chains

Outputs from one transaction become inputs to the next, forming chains:

<div style={{ display:"flex",justifyContent:"center" }}>
<img
  className="block dark:hidden"
  src="/images/ark/txchainlight.png"
  alt="Transaction Chain"
  style={{ width:"70%",height:"auto" }}
/>

</div>

<div style={{ display:"flex",justifyContent:"center" }}>
<img
  className="hidden dark:block mx-auto"
  src="/images/ark/txchaindark.png"
  alt="Transaction Chain"
  style={{ width:"70%",height:"auto" }}
/>

</div>

```
VTXO-A → Tx1 → VTXO-B → Tx2 → VTXO-C → Tx3 → VTXO-D → ...
```

Chains can extend indefinitely. Each hop takes milliseconds.

<Warning>
**Exit cost grows with chain depth.** Each VTXO in the chain requires a separate Bitcoin transaction to exit unilaterally. A 10-transaction chain means 10 onchain txs to exit.

Mitigate by [settling periodically](/learn/pillars/batch-swaps) to reset chain depth.
</Warning>

## Security Properties

| Property | Preconfirmed | After Settlement |
|----------|--------------|------------------|
| Instant spending | ✅ | ✅ |
| Exit guarantee | ✅ (presigned tx) | ✅ (presigned tx) |
| Double-spend protection | Operator integrity | Bitcoin consensus |
| Chain depth | Grows | Resets to 1 |

The key trade-off: preconfirmed transactions trust the operator not to double-sign. [TEEs and slashing](/learn/security/advanced-security) enforce honest behavior, but the ultimate security upgrade is [settling to Bitcoin](/learn/pillars/batch-swaps).

## Deterministic Execution

Arkade transactions are fully deterministic:

- Same inputs + same signatures = same outputs
- No gas estimation, no failed transactions
- Outcomes known before signing
- No MEV extraction possible

This predictability comes from the UTXO model—transactions operate on discrete coins, not shared global state.

## Next Steps

<CardGroup cols={2}>
  <Card title="Virtual Mempool" icon="chart-scatter" href="/learn/pillars/virtual-mempool">
    Where transactions execute
  </Card>
  <Card title="Transaction Finality" icon="check-double" href="/learn/security/transaction-finality">
    Preconfirmation vs Bitcoin finality
  </Card>
</CardGroup>
