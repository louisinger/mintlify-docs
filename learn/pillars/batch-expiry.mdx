---
title: "Batch Expiry"
description: "Managing VTXO lifecycle for efficient liquidity recovery"
icon: "hourglass-end"
---

Batch outputs expire after a defined timebound window, at which point the operator gains control of the underlying Bitcoin. Renewal happens through participation in a batch swap, which refreshes the VTXO with a new expiry. 
The operator typically issues redeemable [Arkade Notes](https://docs.arkadeos.com/arkd/components/ark-notes) as a recovery mechanism, but the user now depends on operator cooperation to access their Bitcoin.

## Liveness Requirements

The batch expiry forces a [liveness requirement](/learn/security/liveness) on users: they need to take action during the specified timebound window to maintain unilateral exit rights. They do so by participating in a batch swap, so VTXOs get renewed with fresh expiry timestamps.

## Delegation Solutions

VTXO renewal can be delegated to trusted third parties. Arkade's [Intent system](https://docs.arkadeos.com/arkd/components/intent-system) enables users to appoint delegates to automatically renew VTXOs on their behalf while maintaining complete unilateral control throughout the process.

### Delegate VTXO Setup

Delegation is implemented at the VTXO level by embedding an additional spending path, the delegate path, into the output script:

- **A\+S (User \+ Server):** Standard cooperative path
- **A\+CSV (User after timelock):** Unilateral fallback path
- **A\+B\+S (User \+ Delegate \+ Server):** Delegation path requiring all three parties

<Tip>Find the full intent delegation workflow as part of a batch swap [here](/arkd/components/intent-delegation)</Tip>

**Delegation Options**:
- **Wallet Providers**: Wallet providers can integrate automatic renewal into the application experience
- **Third-party Services**: Professional entities can offer renewal services with reliability guarantees  
- **Self-hosted**: Users can run their own delegate/watchtower to monitor expiries and submit renewal intents automatically (laptop, home node, or server)

### TL;DR 

The delegation system offers the following benefits: 
- **User retains control**: All delegation requires presigned intents; funds remain self-custodial with unilateral exit always possible.
- **Pre-committed inputs and outputs**: Intents define and sign exact inputs and outputs; delegates can't alter those or access funds, but only hand what has been presigned.
- **Strict timing constraints**: Intents include time windows, this prevents a delegate to hand in an intent earlier than intended to collect associated fees. 

By leveraging intent delegation, application developers can abstract batch expiry handling, delivering user experiences that feel just like existing self-custodial apps.