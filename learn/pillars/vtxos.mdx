---
title: "VTXOs"
description: "Self-custodial offchain abstractions of a UTXO"
icon: "money-bill"
---

Virtual Transaction Outputs (VTXOs) are Bitcoin's UTXOs reimagined for offchain execution. They mirror Bitcoin's UTXO structure but exist within Arkade's [virtual mempool](/learn/pillars/virtual-mempool).

Each VTXO is backed by a presigned, unbroadcast Bitcoin transaction representing your claim to a specific portion of value within a [batch output](/learn/pillars/batch-outputs).

<div style={{ display:"flex",justifyContent:"center" }}>
<img
  className="block dark:hidden"
  src="/images/ark/vtxodark.png"
  alt="VTXOs"
  style={{ width:"70%",height:"auto" }}
/>

</div>

<div style={{ display:"flex",justifyContent:"center" }}>
<img
  className="hidden dark:block mx-auto"
  src="/images/ark/vtxolight.png"
  alt="VTXOs"
  style={{ width:"70%",height:"auto" }}
/>

</div>

<Tip>
A VTXO is a presigned Bitcoin transaction that optimistically never goes onchain. You hold the signed exit transaction—if anything goes wrong, broadcast it.
</Tip>

## VTXO Structure

Every VTXO is a Taproot output with two spending paths:

```javascript
vtxoLockScript = Taproot(
  internalKey: UNSPENDABLE,
  scriptPaths: [
    // Collaborative path (default)
    checkSig(userPK) && checkSig(operatorPK),
    
    // Unilateral exit path  
    checkSig(userPK) && relativeTimelock(exitDelay)
  ]
)
```

| Path | Signatures Required | Use Case |
|------|---------------------|----------|
| **Collaborative** | User + Operator | Normal spending, fast exits |
| **Unilateral Exit** | User only (after timelock) | Emergency exit without operator |

The collaborative path enables instant offchain transactions. The exit path guarantees you can always withdraw to Bitcoin, even if the operator disappears.

<Info>
The CSV (CheckSequenceVerify) delay on the exit path prevents double-spending. Without it, you could spend a VTXO offchain while simultaneously broadcasting the exit transaction.
</Info>

## VTXO States

| State | Description | Can Spend? | Security Level |
|-------|-------------|------------|----------------|
| **Preconfirmed** | Cosigned by operator, not yet settled onchain | Yes | Operator trust |
| **Unconfirmed** | In commitment transaction, awaiting Bitcoin confirmation | Yes | Pending |
| **Settled** | Anchored onchain via confirmed commitment transaction | Yes | Full Bitcoin security |
| **Recoverable** | Expired or sub-dust; needs recovery via batch swap | Via intent only | Limited |
| **Spent** | Used as input to another transaction | No | N/A |

Most of your VTXOs will be either **preconfirmed** (received via Arkade transaction) or **settled** (after participating in a batch swap).

## VTXO Expiration

Every VTXO inherits an expiration time from its [batch output](/learn/pillars/batch-expiry). Before expiry, you must renew by participating in a batch swap. If you miss the window:

1. The operator sweeps the expired batch output
2. You receive an [Arkade Note](/arkd/components/ark-notes) representing your claim
3. You can recover funds via a future batch swap, but lose unilateral exit rights until then

<Tip>
Don't want to monitor expiry? [Delegate renewal](/learn/pillars/batch-expiry#delegation-solutions) to a third party while keeping full control of your funds.
</Tip>

## Trade-offs

| Consideration | Impact | Mitigation |
|---------------|--------|------------|
| **Deep transaction chains** | More txs to broadcast on exit = higher fees | Settle periodically via batch swaps |
| **Preconfirmation trust** | Relies on operator not double-signing | TEE attestation, economic penalties |
| **Liveness requirement** | Must renew before expiry | Delegation to third parties |
| **Dust limits** | Sub-dust VTXOs can't exit unilaterally | Combine via batch swap |

## VTXO vs Account Model

Unlike account-based systems (Ethereum, Solana) that maintain global state:

- **No global state machine** — only local transitions between VTXOs
- **Parallel execution** — independent branches process simultaneously
- **No state contention** — no bottlenecks from competing for state updates
- **Deterministic** — transaction outcomes known before execution

This is why Arkade scales horizontally: more users means more independent VTXO branches, not more load on a single state machine.
