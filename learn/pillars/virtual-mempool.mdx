---
title: "Virtual Mempool"
description: "Arkade's offchain execution engine"
icon: "chart-scatter"
---

The virtual mempool is Arkade's offchain execution engine. It processes transactions instantly using a DAG (directed acyclic graph) structure that enables parallel execution without global state synchronization.

## Virtual Mempool vs Bitcoin Mempool

| Property | Bitcoin Mempool | Arkade Virtual Mempool |
|----------|-----------------|------------------------|
| **Purpose** | Queue for block inclusion | Real-time execution environment |
| **Processing** | Sequential (one block at a time) | Parallel (independent branches) |
| **Confirmation** | ~10 minutes (1 block) | Instant (operator cosignature) |
| **State model** | Global UTXO set | Local VTXO transitions |
| **Throughput** | ~7 TPS | Thousands of TPS |

## DAG Architecture

Transactions form a directed acyclic graph where:

- **Nodes** = individual transactions
- **Edges** = VTXO dependencies (which outputs feed which inputs)

<div style={{ display:"flex",justifyContent:"center" }}>
<img
  className="block dark:hidden"
  src="/images/ark/DAGlight.png"
  alt="DAG structure"
  style={{ width:"80%",height:"auto" }}
/>

</div>

<div style={{ display:"flex",justifyContent:"center" }}>
<img
  className="hidden dark:block mx-auto"
  src="/images/ark/dagblack.png"
  alt="DAG structure"
  style={{ width:"80%",height:"auto" }}
/>

</div>

Independent branches execute in parallel. Transaction A spending VTXO-1 doesn't block Transaction B spending VTXO-2—they process simultaneously.

<Tip>
This eliminates the bottleneck in account-based systems where all transactions compete to update a single global state. In Arkade, transactions only need to respect their local VTXO dependencies.
</Tip>

## Transaction Flow

<Steps>
  <Step title="Submit">
    User sends a signed transaction request to the Arkade operator
  </Step>
  <Step title="Validate">
    Operator verifies the transaction against the current VTXO set (correct inputs, valid signatures, sufficient balance)
  </Step>
  <Step title="Cosign">
    If valid, the [Arkade Signer](/learn/security/advanced-security#arkade-signer) cosigns the transaction
  </Step>
  <Step title="Update">
    The DAG updates immediately—output VTXOs become spendable
  </Step>
</Steps>

Total time: milliseconds.

## Preconfirmation State

VTXOs in the virtual mempool exist in a [preconfirmed state](/learn/security/transaction-finality#preconfirmation):

| Property | Status |
|----------|--------|
| Spendable in Arkade | ✅ Immediately |
| Chainable (use outputs as inputs) | ✅ Yes |
| Bitcoin finality | ❌ Not yet |
| Unilateral exit | ✅ Via presigned tx |

Preconfirmed VTXOs are real—you can spend them, chain them, and exit with them. They just haven't been anchored to Bitcoin yet.

## Achieving Bitcoin Finality

To upgrade from preconfirmation to full Bitcoin security:

1. Participate in a [batch swap](/learn/pillars/batch-swaps)
2. Your VTXOs get included in a commitment transaction
3. Once confirmed onchain, your VTXOs inherit Bitcoin's immutability

<Info>
You control when to settle. Keep funds preconfirmed for fast operations, or anchor to Bitcoin when you want maximum security.
</Info>

## Why It Scales

Traditional blockchains serialize all transactions through a single state machine. As usage grows, everyone competes for the same limited throughput.

Arkade's virtual mempool scales differently:

- **No global state** — each VTXO branch is independent
- **Parallel by default** — more users = more branches, not more congestion
- **Local validation** — transactions only check their own inputs
- **Deterministic** — outcomes known before execution

This is horizontal scaling: add more users without degrading performance for existing ones.

## Next Steps

<CardGroup cols={2}>
  <Card title="Arkade Transactions" icon="share-nodes" href="/learn/pillars/arkade-tx">
    How transactions work in the virtual mempool
  </Card>
  <Card title="Batch Swaps" icon="rotate" href="/learn/pillars/batch-swaps">
    Settle to Bitcoin for full finality
  </Card>
</CardGroup>
