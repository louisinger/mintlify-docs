---
title: "Transaction Finality"
description: "Understanding preconfirmation and Bitcoin finality in Arkade"
icon: "check-double"
---

Arkade provides two levels of transaction finality. You choose which level fits your use case.

## Finality Levels

| Level | Speed | Trust Assumption | When to Use |
|-------|-------|------------------|-------------|
| **Preconfirmed** | Instant | Operator integrity | Everyday payments, trading |
| **Bitcoin Finality** | ~10 min | Bitcoin consensus | Large amounts, long-term storage |

## Preconfirmation

When the [Arkade Signer](/learn/security/advanced-security#arkade-signer) cosigns your transaction, it becomes **preconfirmed**. The resulting VTXOs are immediately spendable.

```typescript
// Send a payment - receives preconfirmation
await wallet.sendBitcoin({
  address: 'ark1q...',
  amount: 10000
})

// Output VTXOs are instantly spendable
const balance = await wallet.getBalance()
console.log(balance.preconfirmed) // Includes your new VTXOs
```

### What Preconfirmation Gives You

- ✅ Instant spending (milliseconds)
- ✅ Chain transactions indefinitely
- ✅ Unilateral exit via presigned transaction
- ✅ Near-zero fees

### The Trust Trade-off

Preconfirmation relies on operator integrity. A malicious operator could theoretically double-sign conflicting transactions, creating competing ownership claims.

This risk is mitigated by:

| Safeguard | How It Helps |
|-----------|--------------|
| [TEE attestation](/learn/security/advanced-security#verifiable-execution) | Proves operator runs expected code |
| [Slashing](/learn/security/advanced-security#slashing) | Economic penalty for misbehavior |
| Cryptographic proof | Double-signing is provable |

<Info>
Even with preconfirmed VTXOs, you always retain your presigned exit transaction. If anything goes wrong, broadcast it to claim your funds onchain.
</Info>

## Bitcoin Finality

To achieve full Bitcoin security, participate in a [batch swap](/learn/pillars/batch-swaps). Your preconfirmed VTXOs get exchanged for new VTXOs anchored to an onchain commitment transaction.

```typescript
// Settle preconfirmed VTXOs to Bitcoin
await wallet.settle()

// After settlement, VTXOs have Bitcoin finality
const balance = await wallet.getBalance()
console.log(balance.settled) // Now secured by Bitcoin consensus
```

### What Bitcoin Finality Gives You

- ✅ Bitcoin's full security guarantees
- ✅ Immutability after 6 confirmations
- ✅ No operator trust required
- ✅ Fresh expiry timer on VTXOs

### The Cost Trade-off

- Settlement fees (shared across batch participants)
- ~10 minute wait for Bitcoin confirmation
- Must wait for next batch window

## Dynamic Settlement

You control your security posture:

```
┌─────────────────┐     batch swap     ┌─────────────────┐
│  Preconfirmed   │ ────────────────▶  │ Bitcoin Finality│
│                 │                    │                 │
│ • Instant       │                    │ • Immutable     │
│ • Cheap         │                    │ • Trustless     │
│ • Operator trust│                    │ • Settlement fee│
└─────────────────┘                    └─────────────────┘
```

### When to Stay Preconfirmed

- Frequent trading or payments
- Small amounts
- Short-term holdings
- Fee-sensitive operations

### When to Settle to Bitcoin

- Large balances
- Long-term storage
- Before VTXO expiry
- Maximum security needed

<Tip>
A practical pattern: keep working capital preconfirmed for daily use, settle larger amounts periodically for security and to refresh expiry timers.
</Tip>

## Checking VTXO State

```typescript
const vtxos = await wallet.getVtxos()

for (const vtxo of vtxos) {
  const state = vtxo.virtualStatus.state
  
  if (state === 'preconfirmed') {
    console.log('Preconfirmed - operator trust')
  } else if (state === 'settled') {
    console.log('Settled - Bitcoin finality')
  }
}
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Batch Swaps" icon="rotate" href="/learn/pillars/batch-swaps">
    How settlement works technically
  </Card>
  <Card title="Advanced Security" icon="shield" href="/learn/security/advanced-security">
    TEEs, slashing, and trust minimization
  </Card>
</CardGroup>
